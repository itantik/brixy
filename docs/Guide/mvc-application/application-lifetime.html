<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Application lifetime | Brixy</title>
	
	<meta name="Description" content="Brixy framework is Extend Script module system and MVC framework bundled with useful development tools.">
	
	<link rel="stylesheet" href="../css/pure-min.css">
<!--[if lte IE 8]>
    <link rel="stylesheet" href="../css/grids-responsive-old-ie-min.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../css/grids-responsive-min.css">
<!--<![endif]-->

	<link href='https://fonts.googleapis.com/css?family=Roboto:100,400,300,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="../css/prism.css">
	<link rel="stylesheet" href="../css/style.css">
</head>
<body>
	<div class="content">
		<div id="header">
			<div class="menu"><a class="button" href="../../API/index.html">API Reference</a> <a class="button" href="https://github.com/itantik/brixy">GitHub</a></div> <a href="../../index.html" class="title">Brixy</a> <a href="../index.html">User Guide</a>
		</div>
		<div class="page">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-3 pure-u-lg-7-24">
					<div class="pad-box">
						<div id="side-menu-wrap">
							<a id="side-menu-title">Menu</a>
							<div class="pure-menu side-menu">
								<ul class="pure-menu-list">
										<li class="pure-menu-item"><a class="pure-menu-link" href="../index.html">About Brixy</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../installation.html">Installation</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../starter-application.html">Starter application</a>
										</li>
									
										<li class="pure-menu-heading">
											MVC application
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="model-view-controller.html">Model - View - Controller</a>
													</li>
													<li class="pure-menu-item pure-menu-selected">
															<a class="pure-menu-link" href="application-lifetime.html">Application lifetime</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="configuration.html">Configuration</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="routing.html">Routing</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Guides
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../guides/file-loading.html">File loading</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../guides/modules.html">Module system</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link has-children" href="../guides/scriptui-builder.html">ScriptUI Builder</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link has-children" href="../guides/dependency-injection.html">Dependency injection</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Debugging
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../debugging/error-reporting.html">Error reporting</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../debugging/debug-tools.html">Debug tools</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Tools
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../tools/linker.html">Linker</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../tools/mixer.html">Mixer</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../tools/tester.html">Tester</a>
													</li>
											</ul>
										</li>
									
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="pure-u-1-1 pure-u-md-2-3 pure-u-lg-17-24">
					<div class="pad-box">
							<div id="breadcrumbs">
							        <a href="../mvc-application.html" class="button">MVC application</a> /
							Application lifetime
							</div>
						<h1>Application lifetime</h1>
						<h2 id="birth-of-application">Birth of application</h2>
<p>Applications are born in the <em>MyApp/config.jsxinc</em> file in form of the configuration object that is passed to the application manager. It si method <code>BX.apps.add(config)</code><a class="api-link" href="../../API/module-_brixy.mvc.AppManager_-AppManager.html#add">API</a>, where <code>BX.apps</code> is instance of the <code>AppManager</code><a class="api-link" href="../../API/module-_brixy.mvc.AppManager_-AppManager.html">API</a> class, <code>config</code> is an object according to the <code>Application</code><a class="api-link" href="../../API/module-_brixy.mvc.Application_-Application.html">API</a> specification and may additionally contain <code>autorun</code>, <code>application</code> and <code>id</code> property.</p>
<p>Script may contain more applications.</p>
<h2 id="doing-jobs">Doing jobs</h2>
<p>Application receives tasks in the form of requests. <strong>Request</strong> is usually a string that is sent via <code>BX.apps.processRequest(id, request)</code><a class="api-link" href="../../API/module-_brixy.mvc.AppManager_-AppManager.html#processRequest">API</a> method to the application with this <code>id</code>.</p>
<p>If application configuration contains the <code>autorun</code> property, application manager immediately initializes this application and sends <code>autorun</code> request.</p>
<h2 id="processing-of-the-request">Processing of the request</h2>
<h3 id="application-processrequest-request-sender-api-api_link-module-_brixy-mvc-application_-application-html-processrequest-">Application: <code>processRequest(request, sender)</code><a class="api-link" href="../../API/module-_brixy.mvc.Application_-Application.html#processRequest">API</a></h3>
<p>Brixy framework calls this method for you. You do not care about it.</p>
<ol>
<li>It translates the request to the route. Route object wraps the controller and its action method, optionally some data.</li>
<li>Invokes the <code>run(action, data)</code><a class="api-link" href="../../API/module-_brixy.mvc.Controller_-Controller.html#run">API</a> method of the controller.</li>
<li>If controller returns a new request, application processes it.</li>
</ol>
<h3 id="controller-run-action-data-api-api_link-module-_brixy-mvc-controller_-controller-html-run-">Controller: <code>run(action, data)</code><a class="api-link" href="../../API/module-_brixy.mvc.Controller_-Controller.html#run">API</a></h3>
<p>Brixy framework calls this method for you. You do not care about it.</p>
<ol>
<li><code>action&lt;ActionName&gt;(data)</code> method of the controller is called here. Controller&#39;s subclass should define required action methods, e.g. <code>actionDefault(data)</code> for <code>&#39;Default&#39;</code> action.</li>
<li>Calls <code>View.render(data)</code><a class="api-link" href="../../API/module-_brixy.mvc.View_-View.html#render">API</a> method if controller&#39;s action method initializes some view via <code>setView(view, data)</code><a class="api-link" href="../../API/module-_brixy.mvc.Controller_-Controller.html#setView">API</a> method.</li>
<li>Calls <code>handle&lt;HandlerName&gt;(view)</code> method if your <code>View.render(data)</code> method returns a handler name.</li>
<li><code>run()</code> method may return the next application request. Application will process it.</li>
</ol>
<h3 id="controller-action-actionname-data-">Controller: <code>action&lt;ActionName&gt;(data)</code></h3>
<p>You should make this method for each your controller.</p>
<ol>
<li>Controller does the action task in this method. E.g. communicates with the model layer of the application to get and/or set some data.</li>
<li>If some user inputs are required, you can call <code>setView(view, data)</code><a class="api-link" href="../../API/module-_brixy.mvc.Controller_-Controller.html#setView">API</a> method to initialize your View class.</li>
<li>The action method may return the application request. Controller&#39;s <code>run()</code> method will return it to the application.</li>
</ol>
<h3 id="view-render-data-api-api_link-module-_brixy-mvc-view_-view-html-render-">View: <code>render(data)</code><a class="api-link" href="../../API/module-_brixy.mvc.View_-View.html#render">API</a></h3>
<p>Brixy framework calls this method for you. You do not care about it. Simply define your view class with <code>render()</code> method.</p>
<ol>
<li>Shows dialog window to get some data from the user.</li>
<li>Method may return the name of the controller&#39;s handler. Controller&#39;s subclass should define required handler methods, e.g. <code>handleSave(view)</code> for <code>&#39;Save&#39;</code> handler.</li>
</ol>
<h3 id="controller-handle-handlername-view-">Controller: <code>handle&lt;HandlerName&gt;(view)</code></h3>
<p>You should make this method if you want handle data from the user input.</p>
<ol>
<li>This method finishes the task of the current action after the end of the view rendering. The view with user data is accessible as argument of this method.</li>
<li>The handle method may return the application request. Controller&#39;s <code>run()</code> method will return it to the application.</li>
</ol>
<h2 id="processing-of-application-events">Processing of application events</h2>
<p>Application <strong>events</strong> are intended for inter-application communication. Script can even publish a method for calling application events from the outside world, e.g. from CEP application.</p>
<p>Events are called via <code>BX.apps.processEvent(event, data)</code><a class="api-link" href="../../API/module-_brixy.mvc.AppManager_-AppManager.html#processEvent">API</a> method. Application manager sends the event to all applications that listens this event.</p>
<h2 id="the-end-of-the-application">The end of the application</h2>
<p>Standard script ends when the last application request are finished.</p>
<p>Script running in the persistent Extend Script engine remains alive for the duration of the Adobe application. Application can process requests and events all this time.</p>

						<p class="edited">Edited: 2016/11/26</p>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-2">
						<h3>Recently edited chapters</h3>
						<ul>
							<li><span class="date">2017/09/10</span> <a href="../debugging/debug-tools.html">Debug tools</a></li>
							<li><span class="date">2017/09/10</span> <a href="../debugging/error-reporting.html">Error reporting</a></li>
							<li><span class="date">2017/08/16</span> <a href="../tools/tester.html">Tester</a></li>
							<li><span class="date">2017/08/16</span> <a href="../tools/mixer.html">Mixer</a></li>
							<li><span class="date">2017/06/16</span> <a href="../guides/dependency-injection/standalone-usage.html">Dependency injection / Standalone usage</a></li>
						</ul>
				</div>
				<div class="pure-u-1-1 pure-u-md-1-2">
					<h3>Brixy</h3>
					<p>Version 1.0.0.</p>
					<p>Extend Script module system and MVC framework.</p>
					<p>&copy; 2015 - 2017, Stanislav Antos</p>
					<p>Special thanks to <a href="http://www.metalsmith.io/" target="_blank">Metalsmith</a> - static site generator.</p>
				</div>
			</div>
		</div>
	</div>
	<script src="../js/prism.js"></script>
	<script src="../js/site.js"></script>
</body>
</html>