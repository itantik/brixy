<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Standalone usage | Brixy</title>
	
	<meta name="Description" content="Brixy framework is Extend Script module system and MVC framework bundled with useful development tools.">
	
	<link rel="stylesheet" href="../../css/pure-min.css">
<!--[if lte IE 8]>
    <link rel="stylesheet" href="../../css/grids-responsive-old-ie-min.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../../css/grids-responsive-min.css">
<!--<![endif]-->

	<link href='http://fonts.googleapis.com/css?family=Roboto:100,400,300,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="../../css/prism.css">
	<link rel="stylesheet" href="../../css/style.css">
</head>
<body>
	<div class="content">
		<div id="header">
			<div class="menu"><a class="button" href="../../../API/index.html">API Reference</a> <a class="button" href="#">GitHub</a></div> <a href="../../../index.html" class="title">Brixy</a> <a href="../../index.html">User Guide</a>
		</div>
		<div class="page">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-3 pure-u-lg-7-24">
					<div class="pad-box">
						<div id="side-menu-wrap">
							<a id="side-menu-title">Menu</a>
							<div class="pure-menu side-menu">
								<ul class="pure-menu-list">
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../index.html">About Brixy</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../installation.html">Installation</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../starter-application.html">Starter application</a>
										</li>
									
										<li class="pure-menu-heading">
											MVC application
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/model-view-controller.html">Model - View - Controller</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/application-lifetime.html">Application lifetime</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/configuration.html">Configuration</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/routing.html">Routing</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Guides
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../file-loading.html">File loading</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../modules.html">Module system</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link has-children" href="../scriptui-builder.html">ScriptUI Builder</a>
													</li>
													<li class="pure-menu-item selected-path">
															<a class="pure-menu-link has-children" href="../dependency-injection.html">Dependency injection</a>
																<ul class="pure-menu-list">
																	<li class="pure-menu-item pure-menu-selected">
																			<a class="pure-menu-link" href="standalone-usage.html">Standalone usage</a>
																	</li>
																	<li class="pure-menu-item">
																			<a class="pure-menu-link" href="di-in-mvc-application.html">DI in MVC application</a>
																	</li>
																</ul>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Debugging
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../debugging/error-reporting.html">Error reporting</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../debugging/debug-tools.html">Debug tools</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Tools
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/linker.html">Linker</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/mixer.html">Mixer</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/tester.html">Tester</a>
													</li>
											</ul>
										</li>
									
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="pure-u-1-1 pure-u-md-2-3 pure-u-lg-17-24">
					<div class="pad-box">
							<div id="breadcrumbs">
							        <a href="../../guides.html" class="button">Guides</a> /
							        <a href="../dependency-injection.html" class="button">Dependency injection</a> /
							Standalone usage
							</div>
						<h1>Standalone usage</h1>
						<p>You can use DI <code>Container</code> <a class="api-link" href="../../../API/module-_brixy.di.Container_-Container.html">API</a> separately in your own applications. Simply load required module.</p>
<pre><code class="language-javascript">// include core Brixy library
#include &#39;path/to/Brixy/includes/Brixy.jsxinc&#39;;
// include DI Container module
BX.use(&#39;brixy&#39;, &#39;modules/di/Container.jsxinc&#39;);

// create DI container
var container = new BX.module.Me(&#39;brixy.di.Container&#39;);
</code></pre>
<h2 id="creating-instances">Creating instances</h2>
<p><code>getInstance(subject, injection)</code> <a class="api-link" href="../../../API/module-_brixy.di.Container_-Container.html#getInstance">API</a> </p>
<p>This method can create instance from:</p>
<table>
<thead>
<tr>
<th>subject type</th>
<th>instance</th>
</tr>
</thead>
<tbody>
<tr>
<td>service name</td>
<td>creates/returns instance of the service (<code>injection</code> argument is not applied)</td>
</tr>
<tr>
<td>module name</td>
<td>property <code>Me</code> of this module is used as constructor of a new instance</td>
</tr>
<tr>
<td>Function</td>
<td>function is used as constructor of a new instance</td>
</tr>
<tr>
<td>Object</td>
<td>object is returned unchanged (<code>injection</code> argument is not applied)</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre><code class="language-javascript">// include core Brixy library
#include &#39;path/to/Brixy/includes/Brixy.jsxinc&#39;;
// include DI Container module
BX.use(&#39;brixy&#39;, &#39;modules/di/Container.jsxinc&#39;);

// define a module as wrapper of the class
BX.module.define(&#39;my.module&#39;, function() {

    // define MyClass
    function MyClass() {
    }

    // publish MyClass as module&#39;s &#39;Me&#39; property
    return {
        Me: MyClass
    };
});

// DI container
var container = new BX.module.Me(&#39;brixy.di.Container&#39;);
// use DI container to create a new MyClass instance
var my = container.getInstance(&#39;my.module&#39;);
</code></pre>
<h2 id="injection">Injection</h2>
<p>Brixy DI container uses constructor injection. It looks for <code>&#39;injection&#39;</code> property which allows to resolve types of object dependencies. <code>&#39;injection&#39;</code> is array of constructors or module names that container instantiates and then passes as arguments to the object constructor.</p>
<p>Example:</p>
<pre><code class="language-javascript">// define a module as wrapper of the class
BX.module.define(&#39;my.module&#39;, function() {

    // define MyClass with dependencies
    function MyClass(wantedOne, wantedTwo) {
        this.one = wantedOne;
        this.two = wantedTwo;
    }
    // specify types of dependecies
    MyClass.injection = [&#39;module.One&#39;, &#39;module.Two&#39;];

    // publish MyClass as module&#39;s &#39;Me&#39; property
    return {
        Me: MyClass
    };
});

// use DI container to create a new MyClass instance
var my = container.getInstance(&#39;my.module&#39;);
</code></pre>
<h2 id="services">Services</h2>
<p>DI container contains a repository for objects that can be used in various locations of your application. These objects are instanciated in case of the first use and are stored as named services throughout application life.</p>
<p>Services should be registered in DI Container.</p>
<p>Example:</p>
<pre><code class="language-javascript">// register services
container.registerServices({
    &#39;myService&#39;: &#39;service.module&#39;,
    &#39;secondService&#39;: new AnotherServiceClass()
});

// define service module
BX.module.define(&#39;service.module&#39;, function() {

    // define ServiceClass
    function ServiceClass() {
    }
    // ...

    // publish ServiceClass as module&#39;s &#39;Me&#39; property
    return {
        Me: ServiceClass
    };
});

// define a module
BX.module.define(&#39;my.module1&#39;, function() {

    // define MyClass with dependencies
    function MyClass(wantedOne, wantedTwo, module2) {
        this.one = wantedOne; // &#39;myService&#39;
        this.two = wantedTwo; // &#39;secondService&#39;
        this.module2 = module2; // new &#39;my.module2&#39;.MyClass instance
    }
    // specify types of dependecies
    MyClass.injection = [&#39;myService&#39;, &#39;secondService&#39;, &#39;my.module2&#39;];

    // publish MyClass as module&#39;s &#39;Me&#39; property
    return {
        Me: MyClass
    };
});

// define another module
BX.module.define(&#39;my.module2&#39;, function() {

    // define MyClass with dependencies
    function MyClass(wantedOne) {
        this.one = wantedOne; // &#39;myService&#39;
    }
    // specify types of dependecies
    MyClass.injection = [&#39;myService&#39;];

    // publish MyClass as module&#39;s &#39;Me&#39; property
    return {
        Me: MyClass
    };
});

// use DI container to create instances of two module&#39;s classes
var my1 = container.getInstance(&#39;my.module1&#39;);
var my2 = container.getInstance(&#39;my.module2&#39;);
// now my1 and my2 use the same &#39;service.module&#39;.ServiceClass instance
alert(my1.one === my2.one); // true
</code></pre>

						<p class="edited">Edited: 2017/06/16</p>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-2">
						<h3>Recently edited chapters</h3>
						<ul>
							<li><span class="date">2017/09/10</span> <a href="../../debugging/debug-tools.html">Debug tools</a></li>
							<li><span class="date">2017/09/10</span> <a href="../../debugging/error-reporting.html">Error reporting</a></li>
							<li><span class="date">2017/08/16</span> <a href="../../tools/tester.html">Tester</a></li>
							<li><span class="date">2017/08/16</span> <a href="../../tools/mixer.html">Mixer</a></li>
							<li><span class="date">2017/06/16</span> <a href="standalone-usage.html">Dependency injection / Standalone usage</a></li>
						</ul>
				</div>
				<div class="pure-u-1-1 pure-u-md-1-2">
					<h3>Brixy</h3>
					<p>Version 1.0.0.</p>
					<p>Extend Script module system and MVC framework.</p>
					<p>&copy; 2015 - 2017, Stanislav Antos</p>
					<p>Special thanks to <a href="http://www.metalsmith.io/" target="_blank">Metalsmith</a> - static site generator.</p>
				</div>
			</div>
		</div>
	</div>
	<script src="../../js/prism.js"></script>
	<script src="../../js/site.js"></script>
</body>
</html>