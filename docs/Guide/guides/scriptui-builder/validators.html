<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Validators | Brixy</title>
	
	<meta name="Description" content="Brixy framework is Extend Script module system and MVC framework bundled with useful development tools.">
	
	<link rel="stylesheet" href="../../css/pure-min.css">
<!--[if lte IE 8]>
    <link rel="stylesheet" href="../../css/grids-responsive-old-ie-min.css">
<![endif]-->
<!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="../../css/grids-responsive-min.css">
<!--<![endif]-->

	<link href='http://fonts.googleapis.com/css?family=Roboto:100,400,300,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>

	<link rel="stylesheet" href="../../css/prism.css">
	<link rel="stylesheet" href="../../css/style.css">
</head>
<body>
	<div class="content">
		<div id="header">
			<div class="menu"><a class="button" href="../../../API/index.html">API Reference</a> <a class="button" href="#">GitHub</a></div> <a href="../../../index.html" class="title">Brixy</a> <a href="../../index.html">User Guide</a>
		</div>
		<div class="page">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-3 pure-u-lg-7-24">
					<div class="pad-box">
						<div id="side-menu-wrap">
							<a id="side-menu-title">Menu</a>
							<div class="pure-menu side-menu">
								<ul class="pure-menu-list">
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../index.html">About Brixy</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../installation.html">Installation</a>
										</li>
									
										<li class="pure-menu-item"><a class="pure-menu-link" href="../../starter-application.html">Starter application</a>
										</li>
									
										<li class="pure-menu-heading">
											MVC application
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/model-view-controller.html">Model - View - Controller</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/application-lifetime.html">Application lifetime</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/configuration.html">Configuration</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../mvc-application/routing.html">Routing</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Guides
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../file-loading.html">File loading</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../modules.html">Module system</a>
													</li>
													<li class="pure-menu-item selected-path">
															<a class="pure-menu-link has-children" href="../scriptui-builder.html">ScriptUI Builder</a>
																<ul class="pure-menu-list">
																	<li class="pure-menu-item">
																			<a class="pure-menu-link" href="building-principles.html">Building principles</a>
																	</li>
																	<li class="pure-menu-item">
																			<a class="pure-menu-link" href="suibuilder-components.html">SuiBuilder components</a>
																	</li>
																	<li class="pure-menu-item">
																			<a class="pure-menu-link" href="custom-components.html">Custom components</a>
																	</li>
																	<li class="pure-menu-item pure-menu-selected">
																			<a class="pure-menu-link" href="validators.html">Validators</a>
																	</li>
																</ul>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link has-children" href="../dependency-injection.html">Dependency injection</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Debugging
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../debugging/error-reporting.html">Error reporting</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../debugging/debug-tools.html">Debug tools</a>
													</li>
											</ul>
										</li>
									
										<li class="pure-menu-heading">
											Tools
											<ul class="pure-menu-list">
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/linker.html">Linker</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/mixer.html">Mixer</a>
													</li>
													<li class="pure-menu-item">
															<a class="pure-menu-link" href="../../tools/tester.html">Tester</a>
													</li>
											</ul>
										</li>
									
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="pure-u-1-1 pure-u-md-2-3 pure-u-lg-17-24">
					<div class="pad-box">
							<div id="breadcrumbs">
							        <a href="../../guides.html" class="button">Guides</a> /
							        <a href="../scriptui-builder.html" class="button">ScriptUI Builder</a> /
							Validators
							</div>
						<h1>Validators</h1>
						<p>Validators are special decorator methods. SuiBuilder calls all registered validator methods before closing the window. If some fails, the window remains open. Use method <code>closeOnClick(validate, result)</code> to activate a validation process.</p>
<p>Example:</p>
<pre><code class="language-javascript">b.window(&#39;dialog&#39;, &#39;Title&#39;)
    .column().alignChildren(&#39;right&#39;)
        .row()
            .staticText(&#39;Name:&#39;)
            .editText()
                .validator(&#39;required&#39;) // editText must be filled
            .end()
        .row()
            .staticText(&#39;Age:&#39;)
            .editText() // we can combine more validators for single component
                .validator(&#39;isinteger&#39;, &#39;text&#39;, &#39;Please specify the age as an integer.&#39;) // editText must be integer
                .validator(&#39;minimum&#39;, &#39;text&#39;, 1) // editText must be at least 1
            .end()
        .row()
            .button(&#39;OK&#39;).closeOnClick(true, 1) // validation is executed after clicking
            .button(&#39;Cancel&#39;) // validation is not executed after clicking
    .showWindow();
</code></pre>
<p>In this example we defined one validator for the first editText. There are also two validators for the second editText. After clicking the OK button, validation process is executed. After clicking the Cancel button, the window is closed without validation.</p>
<h2 id="built-in-validators">Built-in validators</h2>
<p>SuiBuilder built-in <code>SuiValidator</code><a class="api-link" href="../../../API/module-_brixy.ui.SuiValidator_-SuiValidator.html">API</a> contains a predefined set of <code>Validators</code><a class="api-link" href="../../../API/module-_brixy.ui.SuiValidator_.Validators.html">API</a>. You can use them with SuiBuilder <code>validator()</code> method.</p>
<p>General form of the validator calling: <code>validator(validatorName, testedProperty, [validatorParameters, ...] errorMessage)</code>.</p>
<ul>
<li>validatorName: the name of the SuiValidator&#39;s method, eg. <code>&#39;required&#39;</code>. Prefix the name with exclamation mark to test the opposite requirement, eg. <code>&#39;!required&#39;</code>.</li>
<li>testedProperty: the name of the element&#39;s property that is tested, eg. <code>&#39;text&#39;</code> or <code>&#39;value&#39;</code>.</li>
<li>validatorParameters: these parameters are passed to the validator method.</li>
<li>errorMessage: optional error message that replaces a default error message.</li>
</ul>
<h3 id="list-of-built-in-validators">List of built-in validators</h3>
<pre><code class="language-javascript">// tests if element.testedProperty equals to requiredValue
validator(&#39;equal&#39;, testedProperty, requiredValue, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty has the required length
validator(&#39;haslength&#39;, testedProperty, minLength, maxLength, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty doesn&#39;t exceed the maximum length
validator(&#39;maxlength&#39;, testedProperty, maxLength, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty has at least the minimum length
validator(&#39;minlength&#39;, testedProperty, minLength, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value occurs in the array
validator(&#39;inarray&#39;, testedProperty, array, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value is decimal
validator(&#39;isdecimal&#39;, testedProperty, decimalPoint, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value is integer
validator(&#39;isinteger&#39;, testedProperty, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty is array and contains a checked or selected item
validator(&#39;itemselected&#39;, testedProperty, errorMessage)

// example:
column().validator(&#39;itemselected&#39;, &#39;children&#39;)
    .radioButton(&#39;Option 1&#39;)
    .radioButton(&#39;Option 2&#39;)
    .radioButton(&#39;Option 3&#39;)
    .end()
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value doesn&#39;t exceed the maximum value
validator(&#39;maximum&#39;, testedProperty, maximum, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value equals to at least the minimum value
validator(&#39;minimum&#39;, testedProperty, minimum, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value is in required range
validator(&#39;range&#39;, testedProperty, minimum, maximum, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value matches the regular expression
validator(&#39;pattern&#39;, testedProperty, regexp, errorMessage)
</code></pre>
<pre><code class="language-javascript">// tests if element.testedProperty value is defined and is not empty string
validator(&#39;required&#39;, testedProperty, errorMessage)
</code></pre>
<h2 id="custom-validators">Custom validators</h2>
<p>In case that prepared validators are not sufficient, it is possible to define own.</p>
<p>Custom validator is a function. SuiValidator calls this function with the context of the current SuiBuilder&#39;s element. If validation failes, validator must throw an exception.</p>
<p>Example 1:</p>
<pre><code class="language-javascript">b.window(&#39;dialog&#39;, &#39;Title&#39;)
    .column()
        .row()
            .staticText(&#39;Name 1:&#39;)
            .editText().id(&#39;name1&#39;)
            .end()
        .row()
            .staticText(&#39;Name 2:&#39;)
            .editText().id(&#39;name2&#39;)
            .end()
        .validator(myValidator) // custom validator
        .button(&#39;OK&#39;).closeOnClick(true, 1)
    .showWindow();

// custom validator definition
function myValidator() {
    var n1 = b.get(&#39;name1&#39;).text;
    var n2 = b.get(&#39;name2&#39;).text;

    if (n1 === &#39;&#39; &amp;&amp; n2 === &#39;&#39;) {
        throw &#39;Please enter at least one name.&#39;;
    }
}
</code></pre>
<p>Example 2:</p>
<pre><code class="language-javascript">b.window(&#39;dialog&#39;, &#39;Title&#39;)
    .column()
        .row()
            .staticText(&#39;Name:&#39;)
            .editText().validator(myValidator) // custom validator
            .end()
        .button(&#39;OK&#39;).closeOnClick(true, 1)
    .showWindow();

// custom validator definition
function myValidator() {
    // &#39;this&#39; refers to the custom element, i.e. editText
    var t = this.text;
    var first = (t.length &gt; 0) ? t[0] : false;

    if (first !== false &amp;&amp; first !== first.toLocaleUpperCase()) {
        throw &#39;The name must begin with a capital letter.&#39;;
    }
}
</code></pre>
<p>Example 3:</p>
<pre><code class="language-javascript">b.window(&#39;dialog&#39;, &#39;Title&#39;)
    .column()
        .row()
            .staticText(&#39;Name:&#39;)
            .editText().validator(myValidator, 2) // custom validator, additional arguments are passed to validator
            .end()
        .button(&#39;OK&#39;).closeOnClick(true, 1)
    .showWindow();

// custom validator definition
function myValidator(minLength) {
    // &#39;this&#39; refers to the custom element, i.e. editText
    var t = this.text;

    if (t.length &lt; minLength) {
        throw &#39;Minimum length is &#39; + minLength + &#39;.&#39;;
    }
}
</code></pre>

						<p class="edited">Edited: 2017/01/23</p>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div class="pure-g">
				<div class="pure-u-1-1 pure-u-md-1-2">
						<h3>Recently edited chapters</h3>
						<ul>
							<li><span class="date">2017/09/10</span> <a href="../../debugging/debug-tools.html">Debug tools</a></li>
							<li><span class="date">2017/09/10</span> <a href="../../debugging/error-reporting.html">Error reporting</a></li>
							<li><span class="date">2017/08/16</span> <a href="../../tools/tester.html">Tester</a></li>
							<li><span class="date">2017/08/16</span> <a href="../../tools/mixer.html">Mixer</a></li>
							<li><span class="date">2017/06/16</span> <a href="../dependency-injection/standalone-usage.html">Dependency injection / Standalone usage</a></li>
						</ul>
				</div>
				<div class="pure-u-1-1 pure-u-md-1-2">
					<h3>Brixy</h3>
					<p>Version 1.0.0.</p>
					<p>Extend Script module system and MVC framework.</p>
					<p>&copy; 2015 - 2017, Stanislav Antos</p>
					<p>Special thanks to <a href="http://www.metalsmith.io/" target="_blank">Metalsmith</a> - static site generator.</p>
				</div>
			</div>
		</div>
	</div>
	<script src="../../js/prism.js"></script>
	<script src="../../js/site.js"></script>
</body>
</html>